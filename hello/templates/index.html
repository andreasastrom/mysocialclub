{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.js"></script>    
    <script src="https://cdn.jsdelivr.net/lodash/4.16.1/lodash.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"></script> -->
    
   
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/locale/sv.js"></script>    
    
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">    

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" type="text/css" href="{% static 'font-awesome-4.6.3/css/font-awesome.min.css'%}">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'style/css/main_style.css'%}"> 


    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">

    <script data-main="{% static 'main.js'%}" src="{% static 'js/lib/require.js'%}"></script>
    <!-- <script src="{% static 'js/lib/text.js'%}"></script> -->
    <script src="{% static 'js/items.js'%}"></script>
    <script src="{% static 'js/vm/vm.checklist.js'%}"></script>
    <script src="{% static 'js/vm/vm.countdown.js'%}"></script>
    <script src="{% static 'js/weather.js'%}"></script>
    <script src="{% static 'js/login.js'%}"></script>
    <script src="{% static 'js/bakery.js'%}"></script>
    <script src="{% static 'js/m/m.checklist.js'%}"></script>
    <script src="{% static 'js/ko.components.js'%}"></script>

    <script src="{% static 'js/m/m.checklist.js'%}"></script>

    <link rel="icon" type="image/png" href="{% static 'icon/fav.gif'%}" sizes="32x32" />
    <!-- <link rel="icon" type="image/png" href="{% static 'icon/favicon-16x16.png'%}" sizes="16x16" /> -->

    <title>Mette & Andreas</title>
</head>
<body>
    <div class="container-fluid">
        <!-- ko if: loggedIn() -->
        <div class="row">
            <div class="col-md-4 col-xs-12">
                <!-- ko foreach: checklists -->
                <div class="coverPage" data-bind="visible: checklistMenu(), click: toggleChecklist"></div>
                <div class="coverPage" data-bind="visible: showRename(), click: update"></div>
                <div class="shoppinglist-container" data-bind="visible: showChecklist">
                    
                    <div class="shoppinglist-menu-button" data-bind="click: toggleChecklist">
                        <i class="fa fa-bars"></i>                        
                    </div>

                    <div class="shoppinglist-menu" data-bind="visible: checklistMenu()">
                            <a data-bind="click: rename">Byt namn</a>
                            <a data-bind="click: remove">Ta bort</a>
                            <a>Arkivera</a>
                    </div>                    

                    <h2 data-bind="text: name, click: toggleList, visible: !showRename()"></h2>
                    
                    <div class="renameChecklist" data-bind="visible: showRename()">                                                    
                        <input type="text" class="form-control " dir="auto" data-bind="value: name" aria-describedby="basic-addon2">
                    </div>

                    <div data-bind="visible: showList() && !showRename()">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Vad?" data-bind="value:shopplinglistInput, valueUpdate:'keypress'"></input>
                            <span class="input-group-addon" data-bind="click:create">Lägg till</span>
                        </div>

                        <div class="list-group-container">
                            <ul class="list-group" id="myShoppingList" data-bind="foreach: listItem()">
                                <li class="list-group-item" data-bind="visible: showItem">
                                    <div class="list-group-text" data-bind="click: markItemAsDone, style: { color: (done? '#00796B' : '#000')}">
                                        <i class="fa fa-lg" data-bind="css: {'fa-square-o' : !done, 'fa-check-square-o': done}"></i>
                                        <span data-bind="text: name, css:{'list-group-item-done':done}"></span>
                                    </div>
                                    <div class="listeItem-delete" data-bind="click: deleteItem">
                                        <i class="fa fa-trash-o"></i>
                                    </dib>
                                </li>
                            </ul>
                        </div>
                        <div class="list-counter" data-bind="visible: listItem().length > 0">
                            <!-- <span data-bind="text: listItem().length"></span> -->
                            <b data-bind="text: doneItem().length + '/' + listItem().length"></b>
                        </div>
                    </div>
                </div>                
                <!-- /ko -->
                <div class="shoppinglist-creat">                    
                    <div class="shoppinglist-add-toggler" data-bind="click: addNewChecklist, visible: !addList()">
                        <h2>+</h2>
                        <p>Lägg till en lista</p>
                    </div>                    

                    <div data-bind="visible: addList">
                        <h3> Skapa en lista </h3>        
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Skapa ny lista" data-bind="value: checklistName, valueUpdate:'keypress'">                        
                            <span class="input-group-addon" data-bind="click: createChecklist">Skapa</span>
                            
                        </div>
                    </div>

                </div>        
            </div>

            <countdown></countdown>

            <!-- <div class="col-md-3 col-xs-12">
                <div class="weather-container">
                    <h2 data-bind="text: destionationName()"></h2>
                    <h1 data-bind="text: temperature() + ' °C '"></h1>
                    <i class="fa fa-sun-o fa-3x" aria-hidden="true"></i>
                    <ul>
                        <li><span data-bind="text: 'Max: ' + maxTemp() + ' °C'"></span></li>
                        <li><span data-bind="text: 'Min: ' + minTemp() + ' °C'"></span></li>
                        <li>Wind<span data-bind="text: ': ' + wind() + ' m/s'"></span></li>
                    </ul>
                </div>
            </div> -->
        </div>
        <!-- /ko -->


        <!-- ko if : !loggedIn() -->
        <div class="login-background" data-bind="visible: !loggedIn()">
            <div class="row">
                <div class="login-box col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 ">
                    <div class="login-text">
                        <h1>Welcome</h1>
                        <h3>Today will be great</h3>                    
                    </div>                
                    <div class="ui left icon input login-container">
                      <input type="text" placeholder="Username" data-bind="value: username, valueUpdate: 'keypress'">
                      <i class="user icon"></i>
                    </div>
                    <br/>

                    <div class="ui small left icon input login-container">
                      <input type="password" placeholder="Password" data-bind="value: password, valueUpdate: 'keypress'">
                      <i class="key icon"></i>
                    </div>

                    <button class="ui blue inverted button login-button" data-bind="click: logOn">Log in</button>
                    <div class="login-help">
                        <span data-bind="visible: logonFailed">Inloggnigen misslyckades. </span><a>Glömt lösenord?</a>
                    </div>
                    
                </div>
            </div>
        </div>
        <!-- /ko -->
    </div>
</body>
</html>

